// Draggable (jQuery) Plugin
/*! Copyright (c) 2013 Elton Jain
 *
 * Version: 0.1
 * 
 * Requires: jQuery 1.7.2 or higher
 */

$.fn.draggable=function(e){e=$.extend({handle:"",cursor:"move",axis:null,containParent:false},e);if(e.handle===""){var t=this}else{var t=this.find(e.handle)}return t.css("cursor",e.cursor).on("mousedown",function(n){if(e.handle===""){var r=$(this).addClass("draggable")}else{var r=$(this).addClass("active-handle").parent().addClass("draggable")}var i=r.css("z-index"),s=r.outerHeight(),o=r.outerWidth(),u=r.offset().top+s-n.pageY,a=r.offset().left+o-n.pageX;var f=$(t).parents().outerWidth(),l=$(t).parents().outerHeight();r.css("z-index",1e3).parents().on("mousemove",function(t){var n=t.pageY+u-s,c=t.pageX+a-o,h=null;if(e.containParent===true){if(c<0)c=0;if(c>f-o)c=f-o;if(n<0)n=0;if(n>l-s)n=l-s}if(e.axis=="x"){h={left:c}}else if(e.axis=="y"){h={top:n}}else{h={left:c,top:n}}$(".draggable").offset(h).on("mouseup",function(){r.parents().off("mousemove");$(this).removeClass("draggable").css("z-index",i)})});n.preventDefault()}).on("mouseup",function(){if(e.handle===""){$(this).removeClass("draggable")}else{$(this).removeClass("active-handle").parent().removeClass("draggable")}t.off("mousedown",function(e){e.preventDefault()})})}
